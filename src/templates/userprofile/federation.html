{% extends "base.html" %}
{% block extrahead %}
    <script src='/site_media/pubsubbox/src/js/jquery-ui-1.8.16.min.js'></script>
    <script src='/site_media/pubsubbox/src/js/bootstrap-tabs-1.3.0.js'></script>
    <script src='/site_media/pubsubbox/src/js/bootstrap-modal-1.3.0.js'></script>
    <script src='/site_media/pubsubbox/src/js/strophe-1.0.2.min.js'></script>
    <script src='/site_media/pubsubbox/src/js/pubsubbox.js'></script>
    <link rel='stylesheet' href='/site_media/pubsubbox/src/css/pubsubbox.css'>
{% endblock %}

{% block content %}
    <div class="container">
        <div class="right hide" id="spinner"><img src="/site_media/img/spinner.gif"/></div>
        <div id="login-screen">
            <div class="row">
                <div class="span16">
                    <br>
                    <ul class="tabs">
                        <li><a href="/settings/profile">Profile</a></li>
                        <li><a href="/accounts/change_password">Password</a></li>
                        <li><a href="/settings/notifications">Notifications</a></li>
                        <li><a href="/settings/visibility">Visibility</a></li>
                        <li class="active"><a href="/settings/federation">Federation</a></li>
                    </ul>
                    <h5>Manage your federations</h5>
                    <p id="intro">
                        <i class="quiet">Login to your fordrop XMPP-server</i>
                    </p>
                    <br>
                </div>
            </div>
            <div class="row">
                <div class="span3">
                    <button id="connect-button" class="btn success large hidden">Get started!</button>
                </div>
                <div class="span7">
                    <div id="login-form">
                        <form>
                            <label style="margin-left:-70px; margin-right:10px;" for="xlInput">Password</label>
                            <div class="input" style="margin-left:10px;">
                                <input id="password" size="30" type="password" />
                            </div>
                        </form>
                        <button value="Login" id="login-button" style="margin-left:70px;" class="btn success">Login</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="span16">
                <br>
                <ul id="tabs" class="tabs hidden">
                    <li><a href="/settings/profile">Profile</a></li>
                    <li><a href="/settings/password">Password</a></li>
                    <li><a href="/settings/notifications">Notifications</a></li>
                    <li><a href="/settings/visibility">Visibility</a></li>
                    <li class="active"><a href="/settings/federation">Federation</a></li>
                </ul>
        </div>
        </div>

        <div id="main-screen" class="hidden">
            <div class="row well3">
                <ul class="tabs" id="tab_menu">
                    <li class="active" id="manage_tab"><a id="manage_link" href="#manage">Manage</a></li>
                    <li id="discovery_tab"><a id="discovery_link" href="#discovery">Discovery</a></li>
                    <li id="notification_tab"><a id="notification_link" href="#notification">Notifications <span class="label important hidden" id="notification_count">0</span></a></li>
                </ul>

                <div class="span8 scroll" id="roster_container">
                    <button class="btn info" data-controls-modal="add-contact-modal" data-backdrop="true" data-keyboard="true">Add contact</button>
                    <br><br>
                    <div id="roster"></div>
                    <div id="node_info_buttonlist" class="hide"></div>
                    <div id="node_info_whitelist" class="hide"></div>
                </div>

                <div class="span6 scroll" id="nodes_container">
                    <button class="btn info" data-controls-modal="add-node-modal" data-backdrop="true" data-keyboard="true">Add node</button>
                    <br><br>
                    <div id="pubsub"></div>
                </div>

                <div class="span6 scroll hidden" id="discovery_container">
                    <div id="discovery"></div>
                </div>

                <div class="span6 scroll hidden" id="notification_container">
                    <div id="notification">
                        <h6>Notifications</h6>
                        <div id="subscription_request" class="hidden"><h5>Pending requests</h5><table id="subscription_request_table"></table></div>
                    </div>
                </div>

            </div>
        </div>

        <div id="add-node-modal" class="modal hide fade">
            <div class="modal-header">
                <a href="#" class="close">&times;</a>
                <h3>Create new PubSub node</h3>
            </div>
            <div class="modal-body">
                <form>
                    <label for="xlInput">Name</label>
                    <div class="input">
                        <input class="xlarge" id="node" size="30" type="text" />
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn primary" id="create-node-button">Create</button>
            </div>
        </div>

        <div id="add-contact-modal" class="modal hide fade">
            <div class="modal-header">
                <a href="#" class="close">&times;</a>
                <h3>Add contact</h3>
            </div>
            <div class="modal-body">
                <form>
                    <label for="xlInput">jid</label>
                    <div class="input">
                        <input class="xlarge" id="contact" size="30" type="text" />
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn primary" id="add-contact-button">Send subscription request</button>
            </div>
        </div>


        <div id="login_spinner" class="hide center vcenter">
            &nbsp;&nbsp;&nbsp;&nbsp;<img src="/site_media/img/spinner.gif" />
        </div>
    </div>


{% endblock %}